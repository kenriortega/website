---
title: 'Como hacer un acortador de URLs con Next.js y Prisma'
date: '2021-07-16'
tags:
  - '💻 Desarrollo'
  - 'Next.js'
  - 'Prisma'
---

En este artículo aprenderás a crear un acortador de urls, desde cero y paso a paso.

Un acortador es un servicio que posiblemente ya
hayas utilizado, como por ejemplo _bit.ly_. Sirve para, dada una URL, nos genera una URL más corta que podemos utilizar para
ahorrarnos caracteres o si no tenemos acceso a las analíticas de la web en cuestión, saber cuantos clicks se han hecho
desde determinado enlace.

Para ello vamos a utilizar las siguientes tecnologias:

- React / Next.js como Framework.
- PostgreSQL como base de datos.
- [Prisma](https://www.prisma.io?utm_source=Prisma+Ambassador&utm_medium=Blog+post&utm_campaign=Prisma+AP+Carlos+Azaustre) como ORM para modear la base de datos y realizar las consultas.

Let's go!

### Generar el proyecto

Lo primero será crear una aplicación Next.js, para ello utilizaremos el CLI de Next.js:

```shell
$ npx create-next-app url-shortener
```

Esto nos instala las dependencias necesarias y nos crea una estructura de proyecto y carpetas de nuestra aplicación.

Lo primero que vamos a hacer es crear el formulario de envio de URLs en la parte frontend de nuestra aplicación.

Nos dirigimos al fichero `pages/index.js`, borramos lo que viene por defecto y lo dejamos así:

```javascript
import Head from 'next/head'
import styles from '../styles/Home.module.css'

export default function Home () {
  return (
    <div className={styles.container}>
      <Head>
        <title>URL Shortener</title>
        <meta name='description' content='Generated by create next app' />
        <link rel='icon' href='/favicon.ico' />
      </Head>

      <main className={styles.main}>
        <h1 className={styles.title}>URL Shortener</h1>

        <p className={styles.description}>Acorta tus URLs aquí</p>

        <div className={styles.grid}>
          <form className={styles.card}>
            <input type='text' className={styles.input} placeholder='URL' />
            <button className={styles.button}>Acorta</button>
          </form>
        </div>
      </main>
    </div>
  )
}
```

### Código del proyecto

[Aquí tienes el repositorio en **GitHub**](https://github.com/carlosazaustre/url-shortener) con todo el código visto en el tutorial. Por si quieres revisarlo.

Y con esto ya tendrías tu propio acortador de URLs. Necesitas tener la Base de datos en producción. Puedes elegir como digo al principio
cualquier servicio Cloud como [Digital Ocean Databases](czstr.link/zipuc3s), Amazon RDS, Google Cloud SQL, Supabase, PlanetScale, etc..., y subir el
código también a producción, puedes hacerlo en Vercel, Heroku, ... donde prefieras.

Yo mismo tengo un servicio de [acortador de URLs](https://czstr.link) en producción, siguiendo este mismo código, pero añadiéndole autenticación con Auth0 y mejor estructurado
.
El código es _Open Source_ y lo puedes ver [en este otro repositorio de GitHub](https://github.com/carlosazaustre/czstr.link), y el servicio en producción lo tienes en [czstr.link](https://czstr.link)

¡Espero que te haya gustado y servido! Compártelo con tus amigos y siéntete libre de hacer pull requests para mejorar este tutorial.